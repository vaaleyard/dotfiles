## General
# set -g default-terminal "screen-256color"
# set-option -ga terminal-overrides ",screen-256color:Tc"
set -g default-terminal "xterm-256color"
set-option -ga terminal-overrides ",xterm-256color:Tc"

set-option -g escape-time 0
set-option -g allow-rename on
setw -g automatic-rename on
set-option -g automatic-rename-format '#{b:pane_current_path}'


set -g status-interval 5
set -g renumber-windows on    # Caso tenha 3 janelas e a 2ª é fechada, a 3ª vira a 2ª e uma 3ª é criada
set-option -g history-limit 102400
# split pane
bind \\ split-window -h -c "#{pane_current_path}"
bind - split-window -v -c "#{pane_current_path}"
# split full window (tmux 2.3+)
bind-key | split-window -fh -c "#{pane_current_path}"
bind-key _ split-window -fv -c "#{pane_current_path}"

set -g mouse on
set -g @scroll-speed-num-lines-per-scroll "1"

# Inicia a contagem das janelas a partir de 1, e não 0 (default)
set-option -g base-index 1
setw -g pane-base-index 1

bind-key -n c-g send-prefix
# bind-key -n c-t send-keys c-g

bind k select-pane -t :.-    # prev pane
bind j select-pane -t :.+    # next pane
bind h select-window -t :-   # previous window
bind l select-window -t :+   # next window

# Sincroniza todos os painéis em uma janela
bind C-y setw synchronize-panes

# Aumenta/Diminui o painél
bind-key -r H resize-pane -L +10
bind-key -r J resize-pane -D +10
bind-key -r K resize-pane -U +10
bind-key -r L resize-pane -R +10

bind r source-file $HOME/.tmux.conf

bind Tab last-window

# Troca janelas de posição
bind-key Left swap-window -t -1
bind-key Right swap-window -t +1

# Necessário ao scroll dentro de um editor
unbind m
bind-key m set-option -g -q mouse on \; display-message 'Mouse: ON'
bind-key M set-option -g -q mouse off \; display-message 'Mouse: OFF'

# Sincroniza painéis de uma janela
bind-key C-s set-window-option synchronize-panes

bind-key b set-option status

bind-key u capture-pane \; save-buffer /tmp/tmux-buffer \; new-window -n "urlview" '$SHELL -c "urlview < /tmp/tmux-buffer"'

set -g @yank_action 'copy-pipe' # or 'copy-pipe-and-cancel' for the default
set -g -s set-clipboard on

set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'fcsonline/tmux-thumbs'
set -g @thumbs-upcase-command 'tmux set-buffer -- {} && echo -n {} | pbcopy && tmux display-message \"Copied {}\"'
set -g @thumbs-command 'tmux set-buffer -- {} && echo -n {} | pbcopy && tmux display-message \"Copied {}\"'

run -b '~/.tmux/plugins/tpm/tpm'
run-shell ~/.tmux/plugins/tmux-thumbs/tmux-thumbs.tmux





# NOTE: you can use vars with $<var> and ${<var>} as long as the str is double quoted: ""
# WARNING: hex colors can't contain capital letters

# # --> Catppuccin
thm_bg="#1e1e28"
thm_fg="#dadae8"
thm_cyan="#c2e7f0"
thm_black="#15121c"
thm_gray="#332e41"
thm_magenta="#c6aae8"
thm_pink="#e5b4e2"
thm_red="#e38c8f"
thm_green="#b1e3ad"
thm_yellow="#ebddaa"
thm_blue="#a4b9ef"
thm_orange="#f9c096"
thm_black4="#575268"

# ----------------------------=== Theme ===--------------------------

# status
set -g status-position bottom
set -g status "on"
set -g status-bg "${thm_bg}"
set -g status-justify "left"
set -g status-left-length "100"
set -g status-right-length "100"

# messages
set -g message-style fg="${thm_cyan}",bg="${thm_gray}",align="centre"
set -g message-command-style fg="${thm_cyan}",bg="${thm_gray}",align="centre"

# panes
set -g pane-border-style fg="${thm_gray}"
set -g pane-active-border-style fg="${thm_blue}"

# windows
setw -g window-status-activity-style fg="${thm_fg}",bg="${thm_bg}",none
setw -g window-status-separator ""
setw -g window-status-style fg="${thm_fg}",bg="${thm_bg}",none

# --------=== Statusline
set -g status-left ""
set -g status-right "#[fg=$thm_pink,bg=$thm_bg,nobold,nounderscore,noitalics]#[fg=$thm_bg,bg=$thm_pink,nobold,nounderscore,noitalics] #[fg=$thm_fg,bg=$thm_gray] %H:%M #{?client_prefix,#[fg=$thm_red],#[fg=$thm_green]}#[bg=$thm_gray]#{?client_prefix,#[bg=$thm_red],#[bg=$thm_green]}#[fg=$thm_bg] #[fg=$thm_fg,bg=$thm_gray] #S "

# current_dir
setw -g window-status-format "#[fg=$thm_blue,bg=$thm_bg,nobold,nounderscore,noitalics]#[fg=$thm_bg,bg=$thm_blue]#I #[fg=$thm_fg,bg=$thm_gray] #W #[fg=$thm_gray,bg=$thm_bg,nobold,nounderscore,noitalics] "
setw -g window-status-current-format "#[fg=$thm_orange,bg=$thm_bg,nobold,nounderscore,noitalics]#[fg=$thm_bg,bg=$thm_orange]#I #[fg=$thm_fg,bg=$thm_black4] #W #[fg=$thm_black4,bg=$thm_bg,nobold,nounderscore,noitalics] "

# --------=== Modes
setw -g clock-mode-colour "${thm_blue}"
setw -g mode-style "fg=${thm_pink} bg=${thm_black4} bold"

